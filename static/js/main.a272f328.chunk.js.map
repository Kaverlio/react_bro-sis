{"version":3,"sources":["utils/const.js","components/Login.js","components/Chat.js","routers.js","components/AppRouter.js","components/Navbar.js","App.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Login","firestore","firebase","auth","useContext","Context","loginGoogle","a","provider","GoogleAuthProvider","signInWithPopup","user","loginFacebook","useCollectionData","collection","orderBy","messages","counterBro","counterSis","Container","Grid","container","style","height","window","innerHeight","alignItems","justify","width","background","direction","map","value","console","log","text","Box","p","Button","onClick","variant","Chat","useAuthState","sendBro","add","uid","displayName","photoUrl","photoURL","createdAt","FieldValue","serverTimestamp","sendSis","marginTop","textAlign","slice","pop","publicRoutes","path","Component","privateRoutes","AppRouter","component","exact","to","Navbar","AppBar","position","Toolbar","signOut","color","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.a272f328.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat'","import { Container, Grid, Button } from '@material-ui/core';\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport React, { useContext } from 'react';\r\nimport Box from \"@material-ui/core/Box\"\r\nimport {Context} from \"../index\"\r\nimport firebase from 'firebase/compat';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\n\r\nconst Login = () => {\r\nconst firestore = firebase.firestore();\r\nconst {auth} = useContext(Context);\r\n\r\nconst loginGoogle = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const {user} = await auth.signInWithPopup(provider);\r\n}\r\n\r\nconst loginFacebook = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const {user} = await auth.signInWithPopup(provider);\r\n}\r\n\r\nconst [messages] = useCollectionData(\r\n    firestore.collection('messages').orderBy('createdAt')\r\n\r\n);\r\nlet counterBro = 0, counterSis = 0;\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                style={{ height: window.innerHeight - 50 }}\r\n                alignItems={\"center\"} justify={\"center\"}>\r\n                <Grid style={{ width: 400, background: 'lightgray' }}\r\n                    container\r\n                    alignItems={'center'}\r\n                    direction={\"column\"}\r\n                >\r\n                    {messages && messages.map(value => {\r\n                        console.log(value.text);\r\n                        if(value.text == \"BRO!\") counterBro++;\r\n                        else counterSis++;\r\n                    })\r\n                       \r\n                    }\r\n                    <div> Bro: {counterBro}; Sis: {counterSis};</div>\r\n                    <Box p={5}>\r\n                        <Button onClick={loginGoogle} variant={\"outlined\"}>Login with Google</Button>\r\n                        <Button onClick={loginFacebook} variant={\"outlined\"}>Login with Facebook</Button>                    \r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\n\r\nexport default Login;","import { Container, Button, Grid} from '@material-ui/core';\r\nimport React, { useContext} from 'react';\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\"\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { Context } from './../index';\r\nimport firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\n\r\nconst Chat = () => {\r\n    const firestore = firebase.firestore();\r\n    const { auth } = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n    //  const [value, setValue] = useState(\"\");\r\n    const [messages] = useCollectionData(\r\n        firestore.collection('messages').orderBy('createdAt')\r\n\r\n    );\r\n\r\n    const sendBro = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoUrl: user.photoURL,\r\n            text: \"BRO!\",\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n    }\r\n    const sendSis = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoUrl: user.photoURL,\r\n            text: \"SIS!\",\r\n            createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container justify={\"center\"} style={{marginTop: 20 }}>\r\n                <div style={{ width: '80%', height: '20hv', textAlign: \"center\"}}>\r\n                    {messages && \r\n                        <div >\r\n                            {messages.slice(-1).pop().displayName + \": \" + messages.slice(-1).pop().text}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <Grid container direction={\"column\"} style={{ width: \"30%\", marginTop: 10 }}>\r\n                    {/* <TextField fullWidth rowsMax={2} variant={\"outlined\"} value={value} onChange={e => setValue(e.target.value)}/> */}\r\n                    <Button onClick={sendBro} variant={\"outlined\"}>Bro!</Button>\r\n                    <Button onClick={sendSis} variant={\"outlined\"}>Sis!</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Chat;\r\n","import { LOGIN_ROUTE, CHAT_ROUTE } from \"./utils/const\"\r\nimport Login from './components/Login';\r\nimport Chat from './components/Chat';\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    }\r\n]\r\n\r\nexport const privateRoutes = [\r\n    {\r\n        path: CHAT_ROUTE,\r\n        Component: Chat\r\n    }\r\n]","import React, {useContext} from 'react';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport { privateRoutes } from '../routers';\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/const';\r\nimport { publicRoutes } from './../routers';\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport { Context } from './../index';\r\n\r\nconst AppRouter = () => {\r\n    const {auth} = useContext(Context);\r\n    \r\n    const [user] = useAuthState(auth);\r\n    return user ? (\r\n        <Switch>\r\n            {privateRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} component={Component} exact={true}/>\r\n            )}\r\n            <Redirect to={CHAT_ROUTE}/>\r\n        </Switch>\r\n    ) : (\r\n        <Switch>\r\n            {publicRoutes.map(({path, Component}) =>\r\n                <Route key={path} path={path} component={Component} exact={true}/>\r\n            )}\r\n            <Redirect to={LOGIN_ROUTE}/>\r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nexport default AppRouter;","import React, {useContext} from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport { Button, Grid } from '@material-ui/core'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { LOGIN_ROUTE } from '../utils/const'\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport { Context } from './../index';\r\n\r\nconst Navbar = () => {\r\n    const {auth} = useContext(Context);\r\n    const [user] = useAuthState(auth);\r\n\r\n    return (\r\n        <AppBar position=\"static\">\r\n            <Toolbar >\r\n                <Grid container justify={'flex-end'}>\r\n                    {\r\n                    user ? <Button onClick={() => auth.signOut()} color=\"secondary\" >Log out</Button> : \r\n                    <NavLink to={LOGIN_ROUTE}>\r\n                        <Button color=\"secondary\" >Log in</Button>\r\n                    </NavLink>\r\n                    }\r\n                </Grid>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom'\nimport AppRouter from './components/AppRouter';\nimport Navbar from './components/Navbar';\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Navbar/>\n      <AppRouter/>\n    </BrowserRouter>\n  );\n};\nexport default App;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport firebase from 'firebase/compat';\nimport 'firebase/firestore';\nimport 'firebase/auth'\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyA31ELwURDNDRU5NFyPGX7hsL6P_wx9jlo\",\n  authDomain: \"task-4-330810.firebaseapp.com\",\n  projectId: \"task-4-330810\",\n  storageBucket: \"task-4-330810.appspot.com\",\n  messagingSenderId: \"647449507260\",\n  appId: \"1:647449507260:web:b360026df69fecb27267b9\",\n  measurementId: \"G-HP2W4TS35F\"\n}\n);\n\nexport const Context = createContext(null);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nReactDOM.render(\n  <Context.Provider value={{\n    firebase, auth, firestore\n  }}>\n  <App />\n  </Context.Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}