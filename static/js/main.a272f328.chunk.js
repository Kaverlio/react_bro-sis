(this["webpackJsonpreact_bro-sis"]=this["webpackJsonpreact_bro-sis"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return S}));var r=n(7),a=n(46),c=n.n(a),i=n(54),o=n(17),s=n(25),u="/login",j="/chat",l=n(0),d=n.n(l),p=n(3),h=n(115),b=n(116),x=n(120),O=n(61),f=n(119),m=n(43),v=(n(75),n(76),n(18)),g=function(){var e=m.a.firestore(),t=Object(r.useContext)(S).auth,n=function(){var e=Object(p.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new m.a.auth.GoogleAuthProvider,e.next=3,t.signInWithPopup(n);case 3:r=e.sent,r.user;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(p.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new m.a.auth.GoogleAuthProvider,e.next=3,t.signInWithPopup(n);case 3:r=e.sent,r.user;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=Object(O.a)(e.collection("messages").orderBy("createdAt")),i=Object(o.a)(c,1)[0],s=0,u=0;return Object(v.jsx)(h.a,{children:Object(v.jsx)(b.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(v.jsxs)(b.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:[i&&i.map((function(e){console.log(e.text),"BRO!"==e.text?s++:u++})),Object(v.jsxs)("div",{children:[" Bro: ",s,"; Sis: ",u,";"]}),Object(v.jsxs)(f.a,{p:5,children:[Object(v.jsx)(x.a,{onClick:n,variant:"outlined",children:"Login with Google"}),Object(v.jsx)(x.a,{onClick:a,variant:"outlined",children:"Login with Facebook"})]})]})})})},y=n(51),w=n(68),k=function(){var e=w.a.firestore(),t=Object(r.useContext)(S).auth,n=Object(y.a)(t),a=Object(o.a)(n,1)[0],c=Object(O.a)(e.collection("messages").orderBy("createdAt")),i=Object(o.a)(c,1)[0],s=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.collection("messages").add({uid:a.uid,displayName:a.displayName,photoUrl:a.photoURL,text:"BRO!",createdAt:w.a.firestore.FieldValue.serverTimestamp()});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.collection("messages").add({uid:a.uid,displayName:a.displayName,photoUrl:a.photoURL,text:"SIS!",createdAt:w.a.firestore.FieldValue.serverTimestamp()});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsx)(h.a,{children:Object(v.jsxs)(b.a,{container:!0,justify:"center",style:{marginTop:20},children:[Object(v.jsx)("div",{style:{width:"80%",height:"20hv",textAlign:"center"},children:i&&Object(v.jsx)("div",{children:i.slice(-1).pop().displayName+": "+i.slice(-1).pop().text})}),Object(v.jsxs)(b.a,{container:!0,direction:"column",style:{width:"30%",marginTop:10},children:[Object(v.jsx)(x.a,{onClick:s,variant:"outlined",children:"Bro!"}),Object(v.jsx)(x.a,{onClick:u,variant:"outlined",children:"Sis!"})]})]})})},C=[{path:u,Component:g}],I=[{path:j,Component:k}],A=function(){var e=Object(r.useContext)(S).auth,t=Object(y.a)(e);return Object(o.a)(t,1)[0]?Object(v.jsxs)(s.d,{children:[I.map((function(e){var t=e.path,n=e.Component;return Object(v.jsx)(s.b,{path:t,component:n,exact:!0},t)})),Object(v.jsx)(s.a,{to:j})]}):Object(v.jsxs)(s.d,{children:[C.map((function(e){var t=e.path,n=e.Component;return Object(v.jsx)(s.b,{path:t,component:n,exact:!0},t)})),Object(v.jsx)(s.a,{to:u})]})},B=n(122),L=n(117),P=function(){var e=Object(r.useContext)(S).auth,t=Object(y.a)(e),n=Object(o.a)(t,1)[0];return Object(v.jsx)(B.a,{position:"static",children:Object(v.jsx)(L.a,{children:Object(v.jsx)(b.a,{container:!0,justify:"flex-end",children:n?Object(v.jsx)(x.a,{onClick:function(){return e.signOut()},color:"secondary",children:"Log out"}):Object(v.jsx)(i.b,{to:u,children:Object(v.jsx)(x.a,{color:"secondary",children:"Log in"})})})})})},N=function(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(P,{}),Object(v.jsx)(A,{})]})};n(34),n(52);m.a.initializeApp({apiKey:"AIzaSyA31ELwURDNDRU5NFyPGX7hsL6P_wx9jlo",authDomain:"task-4-330810.firebaseapp.com",projectId:"task-4-330810",storageBucket:"task-4-330810.appspot.com",messagingSenderId:"647449507260",appId:"1:647449507260:web:b360026df69fecb27267b9",measurementId:"G-HP2W4TS35F"});var S=Object(r.createContext)(null),R=m.a.auth(),U=m.a.firestore();c.a.render(Object(v.jsx)(S.Provider,{value:{firebase:m.a,auth:R,firestore:U},children:Object(v.jsx)(N,{})}),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.a272f328.chunk.js.map